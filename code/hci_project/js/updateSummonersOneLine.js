$(document).ready(function(){var summonerNames = "<?php echo $summonerNames ?>";for(var i=0; i<summonerNames.length; i++){var summonerName = summonerNames[i];var promise = getSummonerData(summonerName);promise.done( function(summoner_data){dataForPhp["summoner_name"] = summonerName;dataForPhp["summoner_data"] = summoner_data;$.ajax({url: "updateSummoners2.php",type: "post",data: dataForPhp}).done(function(ret){alert("php returned: " + ret["message"]);}).fail(function(ret){alert("php call failed with message: " + ret["responseText"]);});promise.fail(function(textStatus){alert("failed with textStatus:" + textStatus);});});}});
